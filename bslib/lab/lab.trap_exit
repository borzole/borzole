#!/bin/bash

# obsługa nieprzewidzianego wyjścia ze skryptu
# zamiast jednego trap, można w dowolnym miejscu wpisać throw
unset $EXEPTION_TABLE

throw(){
	EXEPTION_TABLE[${#EXEPTION_TABLE[*]}]="$@"
}

execute_exeption_table(){
	for execute in "${EXEPTION_TABLE[@]}" ; do 
		$execute
	done
}

trap execute_exeption_table EXIT
